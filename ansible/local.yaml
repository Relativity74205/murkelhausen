- name: My Ubuntu WSL setup
  become: True
  hosts: localhost
  connection: local
  vars:
    user: 'arkadius'
  tasks:
    - name: Install common
      include_role:
        name: common

    - name: Install docker
      include_role:
        name: docker

    - name: Install zsh + oh_my_zsh + powerlevel10k
      include_role:
        name: gantsign.oh-my-zsh
      vars:
        users:
          - username: arkadius
            oh_my_zsh:
              theme: robbyrussell
              plugins:
                - git
                - zsh-autosuggestions
                - pip
                - pyenv
                - docker
                - docker-compose
                - task-warrior

    - name: .zshrc PATH
      lineinfile:
        path: /home/{{ user }}/.zshrc
        line: 'export PATH=/home/arkadius/.local/bin:$PATH'